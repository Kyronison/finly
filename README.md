# Finly Autopilot

One-page –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ ¬´–ê–≤—Ç–æ–ø–∏–ª–æ—Ç —Ñ–∏–Ω–∞–Ω—Å–æ–≤ –∏ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π¬ª –Ω–∞ Next.js + Prisma + SQLite.

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –∏ –≤—Ö–æ–¥ –ø–æ email/–ø–∞—Ä–æ–ª—é —Å —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –ø–∞—Ä–æ–ª—è –≤ —Ö–µ—à–µ.
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –±–∞–∑–æ–≤—ã—Ö –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ —Ç—ë–º–Ω—ã–π –≥–µ–π–º–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å.
- –£—á—ë—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–π (–ª–∏–º–∏—Ç—ã, —Ü–≤–µ—Ç–∞, —Ç–∏–ø—ã –¥–æ—Ö–æ–¥/—Ä–∞—Å—Ö–æ–¥) —Å –∏–∑–º–µ–Ω–µ–Ω–∏–µ–º –∏ —É–¥–∞–ª–µ–Ω–∏–µ–º.
- –£—á—ë—Ç —Ä–∞—Å—Ö–æ–¥–æ–≤/–¥–æ—Ö–æ–¥–æ–≤, —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Å—É–º–º, –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π.
- –î–∞—à–±–æ—Ä–¥ —Å –≥—Ä–∞—Ñ–∏–∫–æ–º —Ä–∞—Å—Ö–æ–¥–æ–≤ –ø–æ –¥–Ω—è–º, —Ç–æ–ø–æ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∏ streak –∏–≥—Ä–æ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π.
- REST API –Ω–∞ Node.js (—á–µ—Ä–µ–∑ API routes Next.js) –∏ –±–∞–∑–∞ SQLite/Prisma.

## –°—Ç–µ–∫

- Next.js 14 (React 18, pages router)
- TypeScript
- Prisma ORM + SQLite
- Recharts –¥–ª—è –≥—Ä–∞—Ñ–∏–∫–æ–≤, SWR –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å API

## –ó–∞–ø—É—Å–∫

```bash
npm install
# –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp .env.example .env

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ –±–∞–∑—É (–ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è Prisma CLI)
PRISMA_ENGINES_CHECKSUM_IGNORE_MISSING=1 npx prisma migrate deploy
PRISMA_ENGINES_CHECKSUM_IGNORE_MISSING=1 npx prisma generate

npm run dev
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É [http://localhost:3000](http://localhost:3000).

## –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

- `DATABASE_URL` ‚Äî –ø—É—Ç—å –∫ –±–∞–∑–µ SQLite (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `file:./dev.db`).
- `JWT_SECRET` ‚Äî —Å–µ–∫—Ä–µ—Ç –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ —Ç–æ–∫–µ–Ω–æ–≤ (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ).
- `TBANK_INVEST_API_URL` ‚Äî –±–∞–∑–æ–≤—ã–π URL REST API T-Bank Invest (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `https://invest-public-api.tbank.ru/rest`; —É–¥–∞–ª–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –∏–∑ `.env`, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).
- `TBANK_INVEST_SOCKET_URL` ‚Äî URL –≤–µ–±—Å–æ–∫–µ—Ç-–ø–æ—Ç–æ–∫–∞ –∫–æ—Ç–∏—Ä–æ–≤–æ–∫ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é `wss://invest-public-api.tbank.ru/ws`; —É–¥–∞–ª–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –∏–∑ `.env`, —á—Ç–æ–±—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é).

> üîê API –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–π –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ç–æ–ª—å–∫–æ bearer-—Ç–æ–∫–µ–Ω—ã. –°–æ–∑–¥–∞–π—Ç–µ —Ç–æ–∫–µ–Ω —á—Ç–µ–Ω–∏—è –≤ –∫–∞–±–∏–Ω–µ—Ç–µ T-Bank –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–π –∏ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –µ–≥–æ –≤ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è; —Å–µ—Ä–≤–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–ø—Ä–æ—Å—ã —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º `Authorization: Bearer <—Ç–æ–∫–µ–Ω>`.

> ‚ÑπÔ∏è –ï—Å–ª–∏ –≤—ã –æ–±–Ω–æ–≤–ª—è–µ—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π –¥–µ–ø–ª–æ–π, –æ—Å–≤–µ–∂–∏—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏ –ø—Ä–æ–¥–∞–∫—à–Ω `.env` —Ñ–∞–π–ª—ã (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –∏—Ö –∏–∑ `.env.example` –∏–ª–∏ —É–¥–∞–ª–∏—Ç–µ —Å—Ç–∞—Ä—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è `TBANK_INVEST_API_URL`/`TBANK_INVEST_SOCKET_URL`), —á—Ç–æ–±—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–æ–≥–ª–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –Ω–∞ `invest-public-api.tbank.ru`. –ü–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ dev-—Å–µ—Ä–≤–µ—Ä –∏–ª–∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, —á—Ç–æ–±—ã –∫–ª–∏–µ–Ω—Ç—ã –ø–æ–ª—É—á–∏–ª–∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –æ—Ç API.

## –†–∞–±–æ—Ç–∞ —Å –ø–æ—Ä—Ç—Ñ–µ–ª–µ–º

1. –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–π —Ç–æ–∫–µ–Ω –≤ –∫–∞–±–∏–Ω–µ—Ç–µ T-Bank –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–π –∏ –¥–æ–±–∞–≤—å—Ç–µ –µ–≥–æ —á–µ—Ä–µ–∑ –≤–∫–ª–∞–¥–∫—É ¬´–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω—ã–π –ø–æ—Ä—Ç—Ñ–µ–ª—å¬ª.
2. –ü—Ä–∏ –ø–µ—Ä–≤–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –≤—ã–±–µ—Ä–∏—Ç–µ –±—Ä–æ–∫–µ—Ä—Å–∫–∏–π —Å—á—ë—Ç, –µ—Å–ª–∏ –∏—Ö –Ω–µ—Å–∫–æ–ª—å–∫–æ.
3. –ù–∞–∂–º–∏—Ç–µ ¬´–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å¬ª, —á—Ç–æ–±—ã –ø–æ–ª—É—á–∏—Ç—å –∞–∫—Ç—É–∞–ª—å–Ω—ã–µ –ø–æ–∑–∏—Ü–∏–∏, –æ–ø–µ—Ä–∞—Ü–∏–∏ –∏ –¥–∏–≤–∏–¥–µ–Ω–¥—ã.
4. –ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –æ–±–Ω–æ–≤–∏—Ç–µ —Ç–æ–∫–µ–Ω –∏–ª–∏ –æ—Ç–∫–ª—é—á–∏—Ç–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—é —á–µ—Ä–µ–∑ —Ç—É –∂–µ —Ñ–æ—Ä–º—É.

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞

- `pages/api/**` ‚Äî REST API (–∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è, –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, —Ä–∞—Å—Ö–æ–¥—ã, –∞–Ω–∞–ª–∏—Ç–∏–∫–∞).
- `components/**` ‚Äî UI-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–∞—à–±–æ—Ä–¥–∞ –∏ —Ñ–æ—Ä–º.
- `prisma/schema.prisma` ‚Äî –æ–ø–∏—Å–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö.
- `styles/**` ‚Äî –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –∏ –º–æ–¥—É–ª—å–Ω—ã–µ —Å—Ç–∏–ª–∏.

## –õ–∏–Ω—Ç–∏–Ω–≥

```bash
npm run lint
```

## –°–∫—Ä–∏–Ω—à–æ—Ç—ã

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ `npm run dev` –∏ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –±—Ä–∞—É–∑–µ—Ä–∞.
